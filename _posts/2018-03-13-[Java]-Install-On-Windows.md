Java 설치... 처음 Java 개발을 시작할 때 참 쩔쩔맸던 기억이 난다. 이제는 환경변수와 좀 친해진 느낌이 들어서 이것저것 자신있게 막 바꾸고 테스트할 수 있게 됐다. 운영서버용 Java를 최신 버전으로 교체하는 김에 환경변수 설정 과정을 간단히 적어보았다.



환경변수 설정

[내 컴퓨터] 우클릭 - [고급 시스템 설정] - [고급] 탭에서 하단의 [환경 변수] 클릭

윈도우 계정에 따라 다른 사용자 변수와 전체 시스템에 적용되는 시스템 변수가 있다. 둘 중에서는 시스템 변수가 우선으로 적용된다.

Java를 사용자 계정별로 다르게 사용할 것 같지는 않다... 시스템 변수에 설정한다.

> 주의: exe 파일로 설치하는 등의 이유로 이미 환경변수로 C:\Windows\System32 폴더가 환경 변수 Path 보다 우선적으로 탐색될 수 있다. `C:\Windows\System32\java.exe` 와 같은 파일들이 존재할 수 있다. 이 파일들이 환경 변수보다 우선 순위가 될 수 있으므로 환경 변수로 버전을 변경하려면 이 파일들을 삭제한다.

이제 원하는 Java 버전의 경로를 환경 변수로 설정해주면 된다.

> 주의: 경로의 마지막에 bin 폴더가 있는 걸 잊지 말자. 우리는 java 명령어를 사용하기 위해서 java.exe 파일의 위치를 환경 변수로 설정하는 중이고, 따라서 exe 실행파일들이 모여있는 bin 폴더의 위치까지 입력해야 한다.

첫 번째 방법

환경 변수 `Path` 에 Java 경로 `C:\Windows\Java\jdk1.8.0_111\bin` 을 그대로 적어줘도 된다.

조금 더 깔끔한 두 번째 방법

종종 깔끔하게 정리하기 위해 환경 변수 `JAVA_PATH` 를 새로 선언해서 `bin` 을 제외한 경로  `C:\Windows\Java\jdk1.8.0_111` 를 입력한다. 그리고 `Path` 에는 `%JAVA_PATH%\bin` 으로 설정해준다.

이렇게 하면 나중에 Java 버전이 바뀔 때 간단히 `JAVA_HOME` 환경 변수만 변경해주면 된다. 복잡한 `Path` 환경 변수를 뒤적거리지 않아도 된다.

설치 확인

```bash
# java.exe 버전
> java -version

# javac.exe 버전 (JDK가 아니라 JRE를 설치한 경우 파일이 없으므로 불가능)
> javac -version

# JAVA_HOME 환경 변수 확인
> echo %JAVA_HOME%

# Path 환경 변수 확인
> Path
```

